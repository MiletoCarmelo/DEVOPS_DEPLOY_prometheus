==== ./umbrella_prometheus/values.yaml ====

# values.yaml
kube-prometheus-stack:
  grafana:
    enabled: true
    adminPassword: prom-operator
    dashboardProviders:
      dashboardproviders.yaml:
        apiVersion: 1
        providers:
        - name: 'default'
          orgId: 1
          folder: ''
          type: file
          disableDeletion: false
          editable: true
          options:
            path: /var/lib/grafana/dashboards
    dashboards:
      default:
        kubernetes-cluster:
          gnetId: 7249
          revision: 1
          datasource: Prometheus

  prometheus:
    prometheusSpec:
      retention: 30d
      resources:
        requests:
          cpu: 200m
          memory: 1Gi
        limits:
          cpu: 1000m
          memory: 2Gi

==== ./umbrella_prometheus/Chart.yaml ====

# Chart.yaml
apiVersion: v2
name: umbrella-prometheus
description: Umbrella chart for Prometheus Stack deployment
version: 1.0.0
type: application
dependencies:
  - name: kube-prometheus-stack
    version: 66.3.0  # Version stable connue
    repository: https://prometheus-community.github.io/helm-charts

